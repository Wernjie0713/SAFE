import{r as t,x as u,j as e,Q as f}from"./app-CPDKVT9Z.js";import{A as j,T as b}from"./AuthenticatedLayout-D2IqHuTU.js";import{P as y}from"./PrimaryButton-BkCMJnGa.js";import"./transition-B1brDaxg.js";function E({auth:c,flash:N}){const[v,w]=t.useState(!1),[n,s]=t.useState(!1),[m,l]=t.useState(""),[d,o]=t.useState("success"),{data:i,setData:g,post:x,processing:r,reset:T,errors:R}=u({image:null}),p=()=>{fetch("/storage/sample-hazard.jpg").then(a=>a.blob()).then(a=>{const h=new File([a],"robot-inspection.jpg",{type:"image/jpeg"});g("image",h),x("/api/robot/inspect",{onSuccess:()=>{o("success"),l("Inspection completed successfully"),s(!0),setTimeout(()=>s(!1),3e3)},onError:()=>{o("error"),l("Failed to process inspection"),s(!0),setTimeout(()=>s(!1),3e3)}})}).catch(a=>{console.error("Error loading sample image:",a),o("error"),l("Failed to load sample image"),s(!0),setTimeout(()=>s(!1),3e3)})};return e.jsxs(j,{user:c.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Robot Camera View"}),children:[e.jsx(f,{title:"Robot Camera View"}),e.jsx("div",{className:"py-0",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-0",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 h-[500px] flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Robot Camera Feed"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Click the button below to simulate a robot inspection using a sample image"})]}),i.image?e.jsx("div",{className:"relative w-full h-[300px] bg-black rounded-lg overflow-hidden",children:e.jsx("img",{src:URL.createObjectURL(i.image),alt:"Robot camera feed",className:"absolute inset-0 w-full h-full object-contain"})}):e.jsx("div",{className:"w-full h-[300px] bg-gray-200 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-gray-500",children:"No camera feed available"})}),e.jsx("div",{className:"mt-4",children:e.jsx(y,{onClick:p,disabled:r,children:r?"Processing...":"Simulate Robot Inspection"})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 h-[500px] overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Visual Inspection Alerts"}),e.jsx("div",{className:"space-y-4",children:e.jsx("p",{className:"text-sm text-gray-600",children:"Recent visual hazard alerts will appear here after inspection"})})]})})]})})})}),n&&e.jsx(b,{message:m,type:d,onClose:()=>s(!1)})]})}export{E as default};
