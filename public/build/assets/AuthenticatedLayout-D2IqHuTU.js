import{J as b,j as e,t as m,r as l}from"./app-CPDKVT9Z.js";import{z as C}from"./transition-B1brDaxg.js";function j({active:t=!1,className:a="",children:n,icon:s,href:o,...d}){const{url:c}=b(),i=t||c===o;return e.jsxs(m,{href:o,...d,className:"group flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 "+(i?"bg-gray-700 text-white border-r-4 border-blue-400":"text-gray-300 hover:text-white hover:bg-gray-700/50")+" "+a,children:[s&&e.jsx("span",{className:`mr-3 flex-shrink-0 ${i?"text-blue-400":"text-gray-400 group-hover:text-gray-300"}`,children:s}),n]})}const f=l.createContext(),x=({children:t})=>{const[a,n]=l.useState(!1),s=()=>{n(o=>!o)};return e.jsx(f.Provider,{value:{open:a,setOpen:n,toggleOpen:s},children:e.jsx("div",{className:"relative",children:t})})},M=({children:t})=>{const{open:a,setOpen:n,toggleOpen:s}=l.useContext(f);return e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:s,children:t}),a&&e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)})]})},z=({align:t="right",width:a="48",contentClasses:n="py-1 bg-white",children:s})=>{const{open:o,setOpen:d}=l.useContext(f);let c="origin-top";t==="left"?c="ltr:origin-top-left rtl:origin-top-right start-0":t==="right"&&(c="ltr:origin-top-right rtl:origin-top-left end-0");let i="";return a==="48"&&(i="w-48"),e.jsx(e.Fragment,{children:e.jsx(C,{show:o,enter:"transition ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsx("div",{className:`absolute z-50 mt-2 rounded-md shadow-lg ${c} ${i}`,onClick:()=>d(!1),children:e.jsx("div",{className:"rounded-md ring-1 ring-black ring-opacity-5 "+n,children:s})})})})},T=({className:t="",children:a,...n})=>e.jsx(m,{...n,className:"block w-full px-4 py-2 text-start text-sm leading-5 text-gray-700 transition duration-150 ease-in-out hover:bg-gray-100 focus:bg-gray-100 focus:outline-none "+t,children:a});x.Trigger=M;x.Content=z;x.Link=T;function B({message:t,type:a="success",duration:n=5e3,onClose:s}){const[o,d]=l.useState(!0),[c,i]=l.useState(!1),u=l.useCallback(()=>{i(!0),setTimeout(()=>{d(!1),s&&s()},300)},[s]);if(l.useEffect(()=>{if(!t)return;d(!0),i(!1);const g=setTimeout(()=>{u()},n);return()=>{clearTimeout(g)}},[t,n,u]),!t||!o)return null;const h=(()=>{switch(a){case"success":return{bg:"bg-green-50",border:"border-green-400",text:"text-green-800",icon:e.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})};case"error":return{bg:"bg-red-50",border:"border-red-400",text:"text-red-800",icon:e.jsx("svg",{className:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})};case"warning":return{bg:"bg-yellow-50",border:"border-yellow-400",text:"text-yellow-800",icon:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})};case"info":return{bg:"bg-blue-50",border:"border-blue-400",text:"text-blue-800",icon:e.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};default:return{bg:"bg-gray-50",border:"border-gray-400",text:"text-gray-800",icon:e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}}})();return e.jsx("div",{className:`fixed bottom-5 right-5 z-50 transform transition-all duration-300 ease-in-out ${c?"opacity-0 translate-x-full":"opacity-100 translate-x-0"}`,children:e.jsx("div",{className:`${h.bg} border-l-4 ${h.border} p-4 rounded shadow-lg max-w-md`,children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:h.icon}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:`text-sm ${h.text}`,children:t})}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{onClick:u,className:`inline-flex rounded-md p-1.5 ${h.text} hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-gray-600`,children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})})})}function S({header:t,children:a}){const{auth:n,flash:s}=b().props,o=n.user,[d,c]=l.useState(!1),[i,u]=l.useState(null),[p,h]=l.useState("success"),[g,w]=l.useState(0);l.useEffect(()=>{const r=(N,k)=>{u(N),h(k),w(L=>L+1)};s!=null&&s.success?r(s.success,"success"):s!=null&&s.error?r(s.error,"error"):s!=null&&s.warning?r(s.warning,"warning"):s!=null&&s.info&&r(s.info,"info")},[s]);const y=l.useCallback(()=>{u(null)},[]),v=[{name:"Dashboard",href:"dashboard",icon:e.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v6H8V5z"})]})},{name:"Robot Camera View",href:"robot.camera",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})},{name:"Sensor Health",href:"sensor-health.index",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{name:"Historical Reports",href:"reports.history",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{name:"AI Assistant",href:"ai-assistant",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})},{name:"Demo Controls",href:"demo.controls",icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}];return e.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i&&e.jsx(B,{message:i,type:p,onClose:y,duration:5e3},g),e.jsx("div",{className:`fixed inset-0 z-40 bg-gray-600 bg-opacity-75 transition-opacity lg:hidden ${d?"opacity-100":"opacity-0 pointer-events-none"}`,children:e.jsx("div",{className:"fixed inset-0 z-40 flex",children:e.jsxs("div",{className:`relative flex w-full max-w-xs flex-1 flex-col bg-gray-800 pt-5 pb-4 transition duration-300 ease-in-out ${d?"translate-x-0":"-translate-x-full"}`,children:[e.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:e.jsxs("button",{type:"button",className:"ml-1 flex h-10 w-10 items-center justify-center rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>c(!1),children:[e.jsx("span",{className:"sr-only",children:"Close sidebar"}),e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),e.jsx("div",{className:"flex flex-shrink-0 items-center px-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-blue-600",children:e.jsx("svg",{className:"h-5 w-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),e.jsx("span",{className:"ml-3 text-xl font-bold text-white",children:"SAFE"})]})}),e.jsx("div",{className:"mt-5 h-0 flex-1 overflow-y-auto",children:e.jsx("nav",{className:"space-y-1 px-2",children:v.map(r=>e.jsx(j,{href:route(r.href),icon:r.icon,active:route().current(r.href),children:r.name},r.name))})}),e.jsx("div",{className:"px-2 pb-4",children:e.jsxs(m,{href:route("logout"),method:"post",as:"button",className:"group flex w-full items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700/50 hover:text-white rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})})}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:e.jsxs("div",{className:"flex min-h-0 flex-1 flex-col bg-gray-800",children:[e.jsx("div",{className:"flex h-16 flex-shrink-0 items-center px-4 bg-gray-900",children:e.jsx("div",{className:"flex items-center",children:e.jsxs(m,{href:"/",className:"flex items-center",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-white",children:e.jsx("img",{src:"/storage/logo.png",alt:"SAFE Logo",className:"h-8 w-8"})}),e.jsx("span",{className:"ml-3 text-xl font-bold text-white",children:"SAFE"})]})})}),e.jsx("div",{className:"mt-5 flex flex-1 flex-col",children:e.jsx("nav",{className:"flex-1 space-y-1 px-2",children:v.map(r=>e.jsx(j,{href:route(r.href),icon:r.icon,active:route().current(r.href),children:r.name},r.name))})}),e.jsx("div",{className:"px-2 pb-4",children:e.jsxs(m,{href:route("logout"),method:"post",as:"button",className:"group flex w-full items-center px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-700/50 hover:text-white rounded-lg transition-all duration-200",children:[e.jsx("svg",{className:"mr-3 h-5 w-5 text-gray-400 group-hover:text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})})]})}),e.jsxs("div",{className:"flex flex-1 flex-col lg:pl-64",children:[e.jsxs("div",{className:"flex h-16 flex-shrink-0 bg-gray-800 shadow-sm",children:[e.jsxs("button",{type:"button",className:"border-r border-gray-700 px-4 text-gray-400 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-blue-500 lg:hidden",onClick:()=>c(!0),children:[e.jsx("span",{className:"sr-only",children:"Open sidebar"}),e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})})]}),e.jsxs("div",{className:"flex flex-1 justify-between px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-2 w-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-300",children:"System Online"})]})})}),e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("div",{className:"relative",children:e.jsxs(x,{children:[e.jsx(x.Trigger,{children:e.jsx("span",{className:"inline-flex rounded-md",children:e.jsxs("button",{type:"button",className:"inline-flex items-center rounded-md border border-transparent bg-gray-800 px-3 py-2 text-sm font-medium leading-4 text-gray-300 transition duration-150 ease-in-out hover:text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-sm font-medium text-white",children:o.name.charAt(0).toUpperCase()})}),e.jsx("span",{children:o.name})]}),e.jsx("svg",{className:"-me-0.5 ms-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})}),e.jsxs(x.Content,{children:[e.jsx(x.Link,{href:route("profile.edit"),children:"Profile"}),e.jsx(x.Link,{href:route("logout"),method:"post",as:"button",children:"Log Out"})]})]})})})]})]}),t&&e.jsx("header",{className:"bg-white shadow-sm",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:t})}),e.jsx("main",{className:"flex-1 bg-gray-50 p-4 sm:p-6 lg:p-8",children:a})]})]})}export{S as A,B as T};
